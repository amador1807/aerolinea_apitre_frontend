<div class="col-12 flex justify-content-between">
    <h3>Listado de viajeros</h3>
    <p-button label="Crear viajero" severity="success" (click)="handleCreate()"></p-button>
</div>
<div class="col-12">
    <p-table [value]="viajeros" [tableStyle]="{ 'min-width': '50rem' }">
        <ng-template pTemplate="header" let-columns>
            <tr>
                <th>
                    DNI
                </th>
                <th>
                    Nombre
                </th>
                <th>
                    Direccion
                </th>
                <th>
                    Telefono
                </th>
                <th>
                    Acciones
                </th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-viajero>
            <tr>
                <td>
                    {{ viajero.dni }}
                </td>
                <td>
                    {{ viajero.nombre }}
                </td>
                <td>
                    {{ viajero.direccion }}
                </td>
                <td>
                    {{ viajero.telefono }}
                </td>
                <td class="flex gap-2">
                    <p-button icon="pi pi-pencil" severity="warning" (click)="handleEdit(viajero)"></p-button>
                    <p-button icon="pi pi-trash" severity="danger" (click)="confirm($event, viajero.dni)"></p-button>
                </td>
            </tr>
        </ng-template>
    </p-table>
</div>


<p-dialog header="Creando viajero" [modal]="true" [draggable]="false" [(visible)]="displayCreate"
    [style]="{width: '70vw'}">
    <form [formGroup]="formCreate" class="flex flex-column gap-2 ">
        <div class="surface-hover p-2 my-4">
            <h3 class="text-cyan-600">Datos del viajero</h3>
            <div class="col-12 flex justify-content-center align-items-center gap-2">
                <div>
                    <label>Nombre</label>
                    <input type="text" pInputText formControlName="nombre" placeholder="Escribe aqui" />
                </div>
                <div>
                    <label>Dirección</label>
                    <input type="text" pInputText formControlName="direccion" placeholder="Escribe aqui" />
                </div>
                <div>
                    <label>Telefono</label>
                    <input type="text" pInputText formControlName="telefono" placeholder="Escribe aqui" />
                </div>
            </div>
            <div class="col-12 flex justify-content-center align-items-center gap-2">
                <p-button label="Crear" severity="success" styleClass="my-3" (click)="createViajero()"></p-button>
            </div>
        </div>
    </form>
</p-dialog>

<p-dialog header="Editando viajero" [modal]="true" [draggable]="false" [(visible)]="displayEdit"
    [style]="{width: '70vw'}">
    <form [formGroup]="formEdit" class="flex flex-column gap-2 ">
        <div class="surface-hover p-2 my-4">
            <h3 class="text-cyan-600">Datos del viajero</h3>
            <div class="col-12 flex justify-content-center align-items-center gap-2">
                <div>
                    <label>Nombre</label>
                    <input type="text" pInputText formControlName="nombre" placeholder="Escribe aqui" />
                </div>
                <div>
                    <label>Dirección</label>
                    <input type="text" pInputText formControlName="direccion" placeholder="Escribe aqui" />
                </div>
                <div>
                    <label>Telefono</label>
                    <input type="text" pInputText formControlName="telefono" placeholder="Escribe aqui" />
                </div>
            </div>
            <div class="col-12 flex justify-content-center align-items-center gap-2">
                <p-button label="Editar" severity="warning" styleClass="my-3" (click)="updateViajero()"></p-button>
            </div>
        </div>
    </form>
</p-dialog>

<p-confirmPopup></p-confirmPopup>
<p-toast></p-toast>